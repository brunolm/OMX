(function(a){a.fn.Sel=function(){var a=this.get(0),j=a.nodeName.toLowerCase();if(j!="input"&&j!="textarea")return{Start:0,End:0,SelStart:"",Sel:"",SelEnd:""};var c=0,b=0,i,f,d,e,g;if(typeof a.selectionStart=="number"&&typeof a.selectionEnd=="number"){c=a.selectionStart;b=a.selectionEnd}else{f=document.selection.createRange();if(f&&f.parentElement()==a){e=a.value.length;i=a.value.replace(/\r\n/g,"\n");d=a.createTextRange();d.moveToBookmark(f.getBookmark());g=a.createTextRange();g.collapse(false);if(d.compareEndPoints("StartToEnd",g)>-1)c=b=e;else{c=-d.moveStart("character",-e);c+=i.slice(0,c).split("\n").length-1;if(d.compareEndPoints("EndToEnd",g)>-1)b=e;else{b=-d.moveEnd("character",-e);b+=i.slice(0,b).split("\n").length-1}}}}var h=this.val();return{Start:c,End:b,SelStart:h.substring(0,c),Sel:h.substring(c,b),SelEnd:h.substring(b)}}})($);